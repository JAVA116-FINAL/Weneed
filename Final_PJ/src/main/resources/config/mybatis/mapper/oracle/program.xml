<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mybatis.mapper.program">
	
	<!-- 프로그램 등록하기 -->
		<insert id="insertProgram" parameterType="programVo">
		<selectKey keyProperty="programNo" resultType="int" order="BEFORE">
			select program_seq.nextval from dual
		</selectKey>
		
		insert into program(programNo, adminNo, proCateNo, proName, proSponsor, proPrice, proStartDate, regdate, proType, imageUrl, regiEndDate)
		values(#{program_No}, #{admin_No}, #{pro_Cate_No}, #{pro_Name}, #{pro_Sponsor}, #{pro_Price}, #{pro_Start_Date}, NOW(), #{pro_Type}, #{image_Url}, #{regi_End_Date})
		</insert>
		
		
		<!-- 프로그램 디테일 일반회원 커리어 디테일페이지에 뿌려주기 (select) -->
		<select id="selectByProgramNo" parameterType="int" resultType="programVo">
			select * from program 
			where PROGRAM_NO = #{PROGRAM_NO}
		</select>
	
</mapper>









